{"version":3,"file":"ManageUser.js","names":["ManageUser","props","localToken","localStorage","getItem","token","replace","currentUserId","_React$useState","React","useState","_React$useState2","_slicedToArray","clients","setClients","_React$useState3","_React$useState4","clientsCount","setClientsCount","_React$useState5","_React$useState6","search","setSearch","_React$useState7","_React$useState8","show","setShow","_React$useState9","_React$useState10","modal","setModal","_React$useState11","_React$useState12","modalMode","setModalMode","_React$useState13","_React$useState14","userId","setUserId","_React$useState15","_React$useState16","alertData","setAlertData","_React$useState17","_React$useState18","alert","setAlert","_React$useState19","_React$useState20","sortField","setSortField","_React$useState21","_React$useState22","sortOrder","setSortOrder","_React$useState23","_React$useState24","pagination","setPagination","_React$useState25","_React$useState26","rowPerPage","setRowPerPage","showModal","value","id","hideModal","showAlert","Number","title","text","actionButton","hideAlert","onRowPerPageChange","event","target","onPaginationChange","getUsers","fetch","concat","headers","Accept","Token","then","response","json","data","users","count","error","console","useEffect","onSearchChange","onShowChange","resetFilters","onSortChange","field","changeStatus","client","updatedStatus","status","updatedClient","_objectSpread","updatedClients","map","c","method","body","JSON","stringify","options","translation","handleReset","handleDelete","createElement","className","UserModal","handleClose","mode","Popup","onValidate","i18next","t","onClick","InputWithIcon","label","onChange","Select","customWidth","style","minWidth","overflowX","HeaderCell","color","key","firstname","lastname","email","isTwoFactorAuthEnabled","Pagination","userCount"],"sources":["../../../component/ManageUser/ManageUser.tsx"],"sourcesContent":["import React from 'react'\r\nimport i18next from 'ng_client/node_modules/i18next/i18next.js'\r\nimport InputWithIcon from 'ng_client/component/Component/Inputs/InputWithIcon/InputWithIcon';\r\nimport Select from 'ng_client/component/Component/Selects/Select/Select'\r\nimport UserModal from 'ng_client/component/ManageUser/UserModal/UserModal'\r\nimport HeaderCell from 'ng_client/component/ManageUser/HeaderCell/HeaderCell'\r\nimport Pagination from 'ng_client/component/Component/Pagination/Pagination'\r\nimport Popup from 'ng_client/component/Component/Popup/Popup'\r\n\r\nimport {AlertData, Client} from \"ng_client/component/interface/instanceInterface\"\r\n\r\nconst ManageUser = (props) => {\r\n\r\n  const localToken = localStorage.getItem('ls.auth_token');\r\n  let token;\r\n  if (localToken !== null) {\r\n   token = localToken.replace(/\"/g, '');\r\n  }  \r\n  \r\n  const currentUserId = localStorage.getItem('ls.uid');\r\n\r\n  const [clients, setClients] = React.useState<Client[]>([]);\r\n  const [clientsCount, setClientsCount] = React.useState(0);\r\n\r\n  const [search, setSearch] = React.useState('');\r\n  const [show, setShow] = React.useState('1');\r\n\r\n  const [modal, setModal] = React.useState(false);\r\n  const [modalMode, setModalMode] = React.useState('create');\r\n  const [userId, setUserId] = React.useState();\r\n\r\n  const [alertData, setAlertData] = React.useState<AlertData | undefined>();\r\n  const [alert, setAlert] = React.useState(false);\r\n\r\n  const [sortField, setSortField] = React.useState('firstname');\r\n  const [sortOrder, setSortOrder] = React.useState('-');\r\n  const [pagination, setPagination] = React.useState(1);\r\n  const [rowPerPage, setRowPerPage] = React.useState(25);\r\n\r\n  function showModal(value, id) {\r\n    setModalMode(value);\r\n    setModal(true);\r\n    setUserId(id);\r\n  }\r\n\r\n  function hideModal() {\r\n    setModal(false);\r\n    setModalMode('create');\r\n  }\r\n\r\n  function showAlert(value, id) {\r\n    if (id !== Number(currentUserId)) {\r\n      if (value === 'delete') {\r\n        setAlertData({\r\n          title: 'Are you sure you want to delete user?',\r\n          text: 'This operation is irreversible.',\r\n          actionButton: 'Delete'\r\n        });\r\n      } else {\r\n        setAlertData({\r\n          title: 'Are you sure you want to reset the password of the user?',\r\n          text: 'The user will have to use the password recovery feature.',\r\n          actionButton: 'Reset'\r\n        });\r\n      }\r\n      setAlert(true);\r\n      setUserId(id);\r\n    }\r\n  }\r\n\r\n  function hideAlert() {\r\n    setAlert(false);\r\n  }\r\n\r\n  function onRowPerPageChange(event) {\r\n    setRowPerPage(event.target.value);\r\n    setPagination(1);\r\n  }\r\n\r\n  function onPaginationChange(event) {\r\n    setPagination(event.target.value);\r\n  }\r\n\r\n  function getUsers() {\r\n    fetch(\r\n      `api/users?filter=${search}&limit=${rowPerPage}&order=${sortOrder}${sortField}&page=${pagination}&status=${show}`,\r\n      {\r\n        headers: {\r\n          Accept: 'application/json, text/plain, */*',\r\n          Token: token\r\n        }\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setClients(data.users);\r\n        setClientsCount(data.count);\r\n      })\r\n      .catch((error) => console.error(error));\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (!modal) {\r\n      getUsers();\r\n    }\r\n  }, [sortField, sortOrder, modal, pagination, rowPerPage, show, search]);\r\n\r\n  function onSearchChange(event) {\r\n    setSearch(event.target.value);\r\n    setPagination(1);\r\n  }\r\n\r\n  function onShowChange(event) {\r\n    setShow(event.target.value);\r\n    setPagination(1);\r\n  }\r\n\r\n  function resetFilters() {\r\n    setShow('1');\r\n    setSearch('');\r\n  }\r\n\r\n  function onSortChange(field) {\r\n    if (field === sortField) {\r\n      setSortOrder(sortOrder === '' ? '-' : '');\r\n    } else {\r\n      setSortField(field);\r\n      setSortOrder('');\r\n    }\r\n  }\r\n\r\n  function changeStatus(client) {\r\n    if (client.id !== Number(currentUserId)) {\r\n      const updatedStatus = client.status === 1 ? 0 : 1;\r\n      const updatedClient = { ...client, status: updatedStatus };\r\n\r\n      const updatedClients = clients?.map((c) =>\r\n        c.id === client.id ? updatedClient : c\r\n      );\r\n      setClients(updatedClients);\r\n\r\n      fetch(`api/users/${client.id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          Accept: 'application/json, text/plain, */*',\r\n          'Content-Type': 'application/json',\r\n          Token: token\r\n        },\r\n        body: JSON.stringify(updatedClient)\r\n      }).catch((error) => console.error(error));\r\n    }\r\n  }\r\n\r\n  //Status options\r\n  const options = [\r\n    { value: 'all', translation: 'Show all' },\r\n    { value: '0', translation: 'Show inactive only' },\r\n    { value: '1', translation: 'Show active only' }\r\n  ];\r\n\r\n  function handleReset() {\r\n    fetch(`api/users/${userId}/resetPassword`, {\r\n        headers: {\r\n            'Accept': 'application/json, text/plain, */*',\r\n            'Content-Type': 'application/json; charset=utf-8',\r\n            'Token': token\r\n        }\r\n    })\r\n        .catch(error => console.error(error));\r\n    hideAlert()\r\n}\r\n\r\nfunction handleDelete() {\r\n  fetch(`api/users/${userId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n          'Accept': 'application/json, text/plain, */*',\r\n          'Token': token\r\n      }\r\n  })\r\n      .catch(error => console.error(error));\r\n\r\n  hideAlert()\r\n  getUsers()\r\n  setClientsCount(clientsCount - 1)\r\n}\r\n\r\n  return (\r\n    <div className=\"m-2 card\">\r\n      {modal && (\r\n        <UserModal\r\n          handleClose={hideModal}\r\n          mode={modalMode}\r\n          id={userId}\r\n          modal={modal}\r\n          clientsCount={clientsCount}\r\n          setClientsCount={setClientsCount}\r\n        />\r\n      )}\r\n      {alert && <Popup\r\n      onValidate={alertData?.actionButton === 'Delete' ? handleDelete : handleReset}\r\n        alertData={alertData}\r\n        handleClose={hideAlert}\r\n      />}\r\n      <div className=\"d-flex flex-wrap p-3\">\r\n        <div className=\"d-flex me-auto\">\r\n          <h2 className=\"mt-2 me-2\">\r\n            <span>{i18next.t('Users')}</span>\r\n            <button\r\n              className=\"btn\"\r\n              onClick={() => showModal('create', 0)}\r\n              title={i18next.t('Add an user')}\r\n            >\r\n              <i className=\"bi bi-patch-plus-fill icon-large primary-color\" />\r\n            </button>\r\n          </h2>\r\n          <InputWithIcon\r\n            label=\"Search\"\r\n            onChange={onSearchChange}\r\n            value={search}\r\n            className='flex-grow-1'\r\n          />\r\n        </div>\r\n        <div className=\"d-flex\">\r\n          <Select\r\n            options={options}\r\n            value={show}\r\n            onChange={onShowChange}\r\n            customWidth='200px'\r\n          />\r\n          <button className=\"btn\" onClick={resetFilters}>\r\n            <i className=\"bi bi-arrow-counterclockwise icon-large icon-large primary-color\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"table-container\">\r\n        <table\r\n          className=\"table table-striped table-hover\"\r\n          style={{ minWidth: '700px', overflowX: 'auto' }}\r\n        >\r\n          <thead>\r\n            <tr>\r\n              <HeaderCell\r\n                onSortChange={onSortChange}\r\n                label=\"Status\"\r\n                value=\"status\"\r\n                sortField={sortField}\r\n                sortOrder={sortOrder}\r\n              />\r\n              <HeaderCell\r\n                onSortChange={onSortChange}\r\n                label=\"First name\"\r\n                value=\"firstname\"\r\n                sortField={sortField}\r\n                sortOrder={sortOrder}\r\n              />\r\n              <HeaderCell\r\n                onSortChange={onSortChange}\r\n                label=\"Last name\"\r\n                value=\"lastname\"\r\n                sortField={sortField}\r\n                sortOrder={sortOrder}\r\n              />\r\n              <HeaderCell\r\n                onSortChange={onSortChange}\r\n                label=\"E-mail\"\r\n                value=\"email\"\r\n                sortField={sortField}\r\n                sortOrder={sortOrder}\r\n              />\r\n              <HeaderCell\r\n                onSortChange={onSortChange}\r\n                label=\"2FA\"\r\n                value=\"isTwoFactorAuthEnabled\"\r\n                sortField={sortField}\r\n                sortOrder={sortOrder}\r\n              />\r\n              <th className=\"header-cell\" style={{ color: 'rgba(0,0,0,.54)' }}>\r\n{/*                 <header-cell-content />\r\n */}              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {clients.map((client) => {\r\n              return (\r\n                <tr key={client.id}>\r\n                  <td>\r\n                    <button\r\n                      className=\"btn\"\r\n                      onClick={() => {\r\n                        changeStatus(client);\r\n                      }}\r\n                    >\r\n                      <i\r\n                        className={\r\n                          Number(currentUserId) === client.id\r\n                            ? 'bi bi-check-lg icon-large'\r\n                            : client.status === 1\r\n                              ? 'bi bi-check-lg icon-large primary-color'\r\n                              : 'bi bi-x-lg icon-large primary-color'\r\n                        }\r\n                      />\r\n                    </button>\r\n                  </td>\r\n                  <td>{client.firstname}</td>\r\n                  <td>{client.lastname}</td>\r\n                  <td>{client.email}</td>\r\n                  <td>\r\n                    <span>\r\n                      {client.isTwoFactorAuthEnabled === true\r\n                        ? i18next.t('Enabled')\r\n                        : i18next.t('Not enabled')}\r\n                    </span>\r\n                  </td>\r\n                  <td style={{ minWidth: 160 }}>\r\n                    <button\r\n                      className=\"btn btn-no-outline\"\r\n                      onClick={() => showModal('edit', client.id)}\r\n                      title={i18next.t('Edit')}\r\n                    >\r\n                      <i className=\"bi bi-pencil-fill icon-large primary-color\" />\r\n                    </button>\r\n                    <button\r\n                      className=\"btn\"\r\n                      onClick={() => showAlert('reset', client.id)}\r\n                      title={i18next.t('Reset password')}\r\n                    >\r\n                      <i\r\n                        className={\r\n                          Number(currentUserId) === client.id\r\n                            ? 'bi bi-arrow-repeat icon-large'\r\n                            : 'bi bi-arrow-repeat icon-large primary-color'\r\n                        }\r\n                      />\r\n                    </button>\r\n                    <button\r\n                      className=\"btn\"\r\n                      onClick={() => showAlert('delete', client.id)}\r\n                      title={i18next.t('Delete')}\r\n                    >\r\n                      <i\r\n                        className={\r\n                          Number(currentUserId) === client.id\r\n                            ? 'bi bi-trash-fill icon-large'\r\n                            : 'bi bi-trash-fill icon-large danger-color'\r\n                        }\r\n                      />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <Pagination\r\n        userCount={clientsCount}\r\n        onPaginationChange={onPaginationChange}\r\n        onRowPerPageChange={onRowPerPageChange}\r\n        pagination={pagination}\r\n        rowPerPage={rowPerPage}\r\n        setPagination={setPagination}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageUser;"],"mappings":"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"}