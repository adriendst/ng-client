{"version":3,"file":"AddCategoryModal.js","names":["AddCategoryModal","_React$useState","React","useState","window","innerWidth","_React$useState2","_slicedToArray","windowWidth","setWindowWidth","_React$useState3","_React$useState4","label","setLabel","_React$useState5","_React$useState6","parentCategory","setParentCategory","_React$useState7","_React$useState8","parentCategoryId","setParentCategoryId","_React$useState9","_React$useState10","previousCategory","setPreviousCategory","_React$useState11","_React$useState12","previousCategoryPosition","setPreviousCategoryPosition","_React$useState13","_React$useState14","previousCategoryId","setPreviousCategoryId","_React$useState15","_React$useState16","location","setLocation","_React$useState17","_React$useState18","parentCategoriesOptions","setParentCategoriesOptions","_React$useState19","_React$useState20","previousCategoriesOptions","setPreviousCategoriesOptions","_React$useState21","_React$useState22","currentCategoryId","setCurrentCategoryId","url","href","match","numero","nonFormattedToken","localStorage","getItem","token","replace","headers","Headers","append","categoryModal","ReactRedux","useSelector","state","modal","console","log","model","riskAnalysis","categoriesOptions","categories","useEffect","handleResize","addEventListener","Promise","all","then","value","translation","id","optionsCopy","Array","from","unshift","categoryModalMode","fetch","concat","categoryModalId","response","json","language","parent","implicitPosition","previous","error","i","length","push","position","previousCateg","find","category","undefined","onLabelChange","event","target","onParentCategorySelect","selectedOptions","onLocationSelect","Number","onPreviousCategorySelect","attributes","disabledCreate","onCreate","payload","label1","label2","label3","label4","path","method","body","JSON","stringify","closeCategoryModal","onDelete","dispatch","useDispatch","modalSlice","actions","showAddAssetModal","showCategoryModal","locationOptions","i18next","t","createElement","className","onClick","style","color","InputWithIcon","onChange","icon","hasToBeFilled","title","Select","options","disabled"],"sources":["../../../../../component/Component/Modal/AddCategoryModal/AddCategoryModal.tsx"],"sourcesContent":["import * as ReactRedux from 'react-redux'\r\nimport React from 'react'\r\nimport i18next from \"ng_client/node_modules/i18next/i18next.js\";\r\n\r\nimport InputWithIcon from \"ng_client/component/Component/Inputs/InputWithIcon/InputWithIcon\";\r\nimport Select from \"ng_client/component/Component/Selects/Select/Select\";\r\n\r\nimport { State, Model, Options, categoryModal } from \"ng_client/component/interface/instanceInterface\"\r\n\r\nconst AddCategoryModal = () => {\r\n    const [windowWidth, setWindowWidth] = React.useState(window.innerWidth);\r\n    const [label, setLabel] = React.useState('')\r\n\r\n    const [parentCategory, setParentCategory] = React.useState('')\r\n    const [parentCategoryId, setParentCategoryId] = React.useState<number>()\r\n\r\n    const [previousCategory, setPreviousCategory] = React.useState('')\r\n    const [previousCategoryPosition, setPreviousCategoryPosition] = React.useState(null)\r\n    const [previousCategoryId, setPreviousCategoryId] = React.useState(0)\r\n\r\n    const [location, setLocation] = React.useState(2)\r\n    /*     const [model, setModel] = React.useState<Model>()\r\n     */\r\n    const [parentCategoriesOptions, setParentCategoriesOptions] = React.useState<Options[]>([])\r\n    const [previousCategoriesOptions, setPreviousCategoriesOptions] = React.useState<Options[]>([])\r\n\r\n    const [currentCategoryId, setCurrentCategoryId] = React.useState(0)\r\n\r\n    var url = window.location.href;\r\n    var match = url.match(/\\/(\\d+)\\//);\r\n    var numero = match ? match[1] : null;\r\n\r\n    const nonFormattedToken = localStorage.getItem(\"ls.auth_token\");\r\n    const token = nonFormattedToken ? nonFormattedToken.replace(/\"/g, \"\") : null;\r\n\r\n    const headers = new Headers();\r\n    headers.append(\"Accept\", \"application/json, text/plain, */*\");\r\n    headers.append(\"Content-Type\", \"application/json\");\r\n    headers.append(\"Token\", token || \"\"); // Utilisez la version formatée du token ou une chaîne vide\r\n\r\n    const categoryModal = ReactRedux.useSelector((state: State) => state.modal.categoryModal);\r\n    console.log(categoryModal)\r\n\r\n\r\n    const model: Model = ReactRedux.useSelector((state: State) => state.riskAnalysis.model)\r\n    const categoriesOptions: Options[] = ReactRedux.useSelector((state: State) => state.riskAnalysis.categories)\r\n\r\n    React.useEffect(() => {\r\n        const handleResize = () => {\r\n            setWindowWidth(window.innerWidth);\r\n        }\r\n\r\n        window.addEventListener('resize', handleResize);\r\n        Promise.all([model])\r\n            .then(() => {\r\n                let categories = { value: 'Root (none)', translation: 'Root (none)', id: 0 }\r\n                setParentCategory(categories.value)\r\n                setParentCategoryId(categories.id)\r\n\r\n                const optionsCopy = Array.from(categoriesOptions);\r\n                optionsCopy.unshift(categories);\r\n                setParentCategoriesOptions(optionsCopy);\r\n\r\n\r\n                if (categoryModal.categoryModalMode === 'edit') {\r\n                    fetch(`api/client-anr/${numero}/objects-categories/${categoryModal.categoryModalId}`, {\r\n                        headers: headers\r\n                    })\r\n                        .then(response => response.json())\r\n                        .then(response => {\r\n                            console.log(response)\r\n                            setCurrentCategoryId(response.id)\r\n                            setLabel(response[`label${model.language}`])\r\n                            setParentCategory(response.parent[`label${model.language}`])\r\n                            setParentCategoryId(response.parent.id)\r\n                            setLocation(response.implicitPosition)\r\n                            setPreviousCategoryId(response.previous)\r\n                        })\r\n                        .catch(error => console.error(error));\r\n                }\r\n            });\r\n    }, [categoryModal])\r\n\r\n    React.useEffect(() => {\r\n        if (location === 3) {\r\n            fetch(`api/client-anr/${numero}/objects-categories?lock=true&parentId=${parentCategoryId}`, {\r\n                headers: headers\r\n            })\r\n                .then(response => response.json())\r\n                .then(response => {\r\n                    let categories: Options[] = []\r\n                    for (let i = 0; i < response.categories.length; i++) {\r\n                        categories.push({ value: response.categories[i][`label${model.language}`], id: response.categories[i].id, translation: response.categories[i][`label${model.language}`], position: response.categories[i].position })\r\n                    }\r\n                    setPreviousCategoriesOptions(categories)\r\n                    if (categoryModal.categoryModalMode === 'edit') {\r\n                        console.log(categories)\r\n                        console.log(previousCategoryId)\r\n                        const previousCateg = categories.find(category => category.id === previousCategoryId)\r\n                        console.log(previousCateg)\r\n                        if (previousCateg !== undefined) {\r\n                            setPreviousCategory(previousCateg.translation)\r\n                        }\r\n                    }\r\n                })\r\n                .catch(error => console.error(error));\r\n        }\r\n    }, [parentCategory, location])\r\n\r\n    function onLabelChange(event) {\r\n        setLabel(event.target.value)\r\n    }\r\n\r\n    function onParentCategorySelect(event) {\r\n        setParentCategory(event.target.value)\r\n        setParentCategoryId(event.target.selectedOptions[0].id)\r\n    }\r\n\r\n    function onLocationSelect(event) {\r\n        setLocation(Number(event.target.value))\r\n    }\r\n\r\n    function onPreviousCategorySelect(event) {\r\n        console.log(event.target.selectedOptions[0].id)\r\n        setPreviousCategory(event.target.value)\r\n        setPreviousCategoryPosition(event.target.selectedOptions[0].attributes.position.value)\r\n        setPreviousCategoryId(event.target.selectedOptions[0].id)\r\n    }\r\n\r\n    function disabledCreate() {\r\n        if (label === '') {\r\n            return true\r\n        }\r\n        else { return false }\r\n    }\r\n\r\n    function onCreate() {\r\n        const payload: {\r\n            implicitPosition: number;\r\n            label1: string;\r\n            label2: string;\r\n            label3: string;\r\n            label4: string;\r\n            parent?: number;\r\n            path?: string;\r\n            previous?: number;\r\n        } = {\r\n            implicitPosition: location,\r\n            label1: model?.language === 1 ? label : '',\r\n            label2: model?.language === 2 ? label : '',\r\n            label3: model?.language === 3 ? label : '',\r\n            label4: model?.language === 4 ? label : '',\r\n        }; if (parentCategoryId !== 0) {\r\n            payload.parent = parentCategoryId\r\n            payload.path = parentCategory\r\n        }\r\n        if (location === 3) {\r\n            console.log(previousCategory)\r\n            if (previousCategory !== null) {\r\n                payload.previous = Number(previousCategoryId)\r\n            }\r\n        }\r\n\r\n        console.log(payload)\r\n\r\n        fetch(`api/client-anr/${numero}/objects-categories${categoryModal.categoryModalMode === 'edit' && `/${currentCategoryId}`}`, {\r\n            method: `${categoryModal.categoryModalMode === 'edit' ? 'PUT' : 'POST'}`,\r\n            headers: headers,\r\n            body: JSON.stringify(payload)\r\n        })\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                console.log(response)\r\n            })\r\n            .catch(error => console.error(error));\r\n\r\n        closeCategoryModal()\r\n    }\r\n\r\n    function onDelete() {\r\n        fetch(`api/client-anr/${numero}/objects-categories/${currentCategoryId}`, {\r\n            method: 'DELETE',\r\n            headers: headers\r\n        })\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                console.log(response)\r\n            })\r\n            .catch(error => console.error(error));\r\n\r\n        closeCategoryModal()\r\n\r\n    }\r\n\r\n    /*     function onClose() {\r\n          props.showCategoryModal()\r\n          props.showAssetModal()\r\n        } */\r\n\r\n    const dispatch = ReactRedux.useDispatch()\r\n\r\n    function closeCategoryModal() {\r\n        dispatch(modalSlice.actions.showAddAssetModal(true))\r\n        dispatch(modalSlice.actions.showCategoryModal([false]))\r\n    }\r\n\r\n    /*     console.log(location)\r\n        console.log(previousCategory)\r\n        console.log(previousCategoriesOptions) */\r\n\r\n    const locationOptions = [{ value: 2, translation: i18next.t('in the end') }, { value: 1, translation: 'at the beginning' }, { value: 3, translation: 'after...' }]\r\n    return (\r\n        <div className=\"modal-alert\">\r\n            <div className={`${windowWidth > 900 ? 'modal-category' : 'tiny-modal-category'} d-flex flex-column`}>\r\n                <div className=\"d-flex justify-content-between primary-backgroundcolor\">\r\n                    <h4 className=\"m-3\">{categoryModal.categoryModalMode === 'edit' ? i18next.t('Edit category') : i18next.t('Add a category')}</h4>\r\n                    <button className=\"btn me-2\" onClick={closeCategoryModal} style={{ color: 'white' }}>\r\n                        <i className=\"bi bi-x-lg\"></i>\r\n                    </button>\r\n                </div>\r\n                <div className='m-2'>\r\n                    <InputWithIcon label=\"Label\" value={label} onChange={onLabelChange} icon=\"bi bi-caret-right-fill\" hasToBeFilled={true} title=\"Please fill out this field.\" />\r\n                    <Select icon=\"bi bi-bookmark-fill\" options={parentCategoriesOptions} onChange={onParentCategorySelect} value={parentCategory} label=\"Parent category\" />\r\n                    <Select icon=\"bi bi-list-task\" options={locationOptions} onChange={onLocationSelect} value={location} label=\"Location\" />\r\n                    {location === 3 && <Select icon=\"bi bi-bookmark-fill\" options={previousCategoriesOptions} onChange={onPreviousCategorySelect} value={previousCategory} label=\"Previous category\" />}\r\n                </div>\r\n                <div className=\"d-flex justify-content-end align-items-center my-3\">\r\n                    {categoryModal.categoryModalMode === 'edit' && <button className=\"btn btn-outline-danger me-2\" onClick={onDelete}>Delete</button>}\r\n                    <button className=\"btn btn-outline-secondary\" onClick={closeCategoryModal}>Cancel</button>\r\n                    <button className=\"btn btn-outline-warning mx-2\" disabled={disabledCreate()} onClick={onCreate}>{categoryModal.categoryModalMode === 'edit' ? 'Save' : 'Create'}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddCategoryModal"],"mappings":"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"}